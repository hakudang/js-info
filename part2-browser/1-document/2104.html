<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function section(title) {
            console.log("\n================================ ");
            console.log("=== " + title + " ===");
            console.log("================================\n");
        }
    </script>
</head>

<body>
    <div id="elem">Hello</div>
    <script>
        section("1️⃣ getElementById – tìm 1 element theo id");
        let elem = document.getElementById('elem');
        elem.style.background = 'red';
    </script>

    <!-- <div id="elem"></div>
    <script>
        // không nên dùng biến global theo id
        elem.style.background = 'red'; // ❌ dễ conflict
    </script> -->

    <ul>
        <li>The</li>
        <li>test</li>
    </ul>
    <ul>
        <li>has</li>
        <li>passed</li>
    </ul>

    <script>
        section("2️⃣ querySelectorAll – linh hoạt nhất (CSS selector)");
        let items = document.querySelectorAll('ul > li:last-child');
        for (let li of items) {
            console.log(li); // <li>test</li>, <li>passed</li>
            console.log(li.innerHTML); // test, passed
        }
    </script>
    <h1>Contents</h1>

    <div class="contents">
        <ul class="book">
            <li class="chapter">Chapter 1</li>
            <li class="chapter">Chapter 2</li>
        </ul>
    </div>

    <script>
        section("3️⃣ querySelector – lấy element đầu tiên");

        let chapter = document.querySelector('.chapter'); // LI, lấy element đầu tiên
        console.log(chapter); // Chapter 1
    </script>

    <a href="file.zip">Download</a>
    <a href="page.html">View</a>

    <script>
        section("4️⃣ matches(css) – kiểm tra element có khớp selector?");

        for (let el of document.body.children) {
            if (el.matches('a[href$="zip"]')) { // kiểm tra nếu href kết thúc bằng "zip"
                console.log(el.href);
            }
        }
    </script>

    <div class="contents">
        <ul class="book">
            <li class="chapter3">Chapter 3</li>
        </ul>
    </div>

    <script>
        section("5️⃣ closest(css) – đi ngược lên cha gần nhất");

        let chapter3 = document.querySelector('.chapter3');

        let book = chapter3.closest('.book');     // <ul>
        let contents = chapter3.closest('.contents'); // <div>
        let h1 = chapter3.closest('h1');        // null

        console.log(book);
        console.log(contents);
        console.log(h1);
    </script>

    <table id="table">
        <tr>
            <td>Your age:</td>
            <td>
                <label>
                    <input type="radio" name="age" value="young" checked> less than 18
                </label>
                <label>
                    <input type="radio" name="age" value="mature"> from 18 to 50
                </label>
                <label>
                    <input type="radio" name="age" value="senior"> more than 60
                </label>
            </td>
        </tr>
    </table>

    <script>
        section("6️⃣ getElementsBy* – cách cũ (nhưng vẫn gặp)");

        let inputs = table.getElementsByTagName('input');

        for (let input of inputs) {
            console.log(input.value + ': ' + input.checked);
        }
    </script>

    <div>First div</div>

    <script>
        let divs = document.querySelectorAll('div');
        let divsOld = document.getElementsByTagName('div');
        console.log(divs.length); // 1
    </script>

    <div>Second div</div>

    <script>
        console.log(divs.length); // 1
        console.log(divsOld.length); // 2 (live collection)
    </script>

</body>

</html>